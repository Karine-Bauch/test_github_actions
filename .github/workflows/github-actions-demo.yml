name: GitHub Action Test
run-name: Test
on: [push]
jobs:
    Test:
        runs-on: ubuntu-latest
        container:
            image: python:3.12.6-alpine3.20
        steps:
            -   name: Check out code
                uses: actions/checkout@v4

            -   name: Set up python virtual environment
                run: |
                    python --version
                    python -m venv venv --upgrade-deps || python -m venv venv
                    source venv/bin/activate
                    pip install ruff

            -   name: Ruff check and format
                run: |
                    cd ../${{ github.workspace }}/tests/ruff_project/src/ruff_project
                    ruff check
                    ruff format
